<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot Game: src/rg_services.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robot Game
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">Research Track part 1 - Assignment</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('rg__services_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">rg_services.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A collection of services for the controller.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ros/ros.h&quot;</code><br />
<code>#include &quot;ros/console.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Point.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Vector3.h&quot;</code><br />
<code>#include &quot;geometry_msgs/Twist.h&quot;</code><br />
<code>#include &quot;robot_game/rg_check_srv.h&quot;</code><br />
<code>#include &quot;robot_game/rg_get_target_srv.h&quot;</code><br />
<code>#include &quot;robot_game/rg_get_vel_srv.h&quot;</code><br />
<code>#include &lt;cmath&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &lt;ctime&gt;</code><br />
</div>
<p><a href="rg__services_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a30c17564229ec2e37dfea9c6c9ad643e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#a30c17564229ec2e37dfea9c6c9ad643e">TOLERANCE</a>&#160;&#160;&#160;0.1f</td></tr>
<tr class="separator:a30c17564229ec2e37dfea9c6c9ad643e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d832ae23af4f215e801e37e4f94254"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#a97d832ae23af4f215e801e37e4f94254">K</a>&#160;&#160;&#160;(1.f)</td></tr>
<tr class="separator:a97d832ae23af4f215e801e37e4f94254"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a42b25b029f07f4ead5317195078f5408"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#a42b25b029f07f4ead5317195078f5408">compute_eucledian_distance</a> (geometry_msgs::Point P1, geometry_msgs::Point P2)</td></tr>
<tr class="memdesc:a42b25b029f07f4ead5317195078f5408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Eucledian distance between two points.  <a href="rg__services_8cpp.html#a42b25b029f07f4ead5317195078f5408">More...</a><br /></td></tr>
<tr class="separator:a42b25b029f07f4ead5317195078f5408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8023ea9325c50029e9715fa369bece9d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#a8023ea9325c50029e9715fa369bece9d">rand_range</a> (double min, double max)</td></tr>
<tr class="memdesc:a8023ea9325c50029e9715fa369bece9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a random value within a given range.  <a href="rg__services_8cpp.html#a8023ea9325c50029e9715fa369bece9d">More...</a><br /></td></tr>
<tr class="separator:a8023ea9325c50029e9715fa369bece9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6a791475f0097a0dde6719b16a0f8a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#af6a791475f0097a0dde6719b16a0f8a0">rg_check_target_callback</a> (robot_game::rg_check_srv::Request &amp;initpos, robot_game::rg_check_srv::Response &amp;r)</td></tr>
<tr class="memdesc:af6a791475f0097a0dde6719b16a0f8a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service - check target.  <a href="rg__services_8cpp.html#af6a791475f0097a0dde6719b16a0f8a0">More...</a><br /></td></tr>
<tr class="separator:af6a791475f0097a0dde6719b16a0f8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af522c79e55fdc7c9394573a456a3fcb1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#af522c79e55fdc7c9394573a456a3fcb1">rg_get_target_callback</a> (robot_game::rg_get_target_srv::Request &amp;limits, robot_game::rg_get_target_srv::Response &amp;<a class="el" href="rg__controller_8cpp.html#a96b2a7e2a3ab882942d68d9a1f317849">target</a>)</td></tr>
<tr class="memdesc:af522c79e55fdc7c9394573a456a3fcb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service - get a new random target.  <a href="rg__services_8cpp.html#af522c79e55fdc7c9394573a456a3fcb1">More...</a><br /></td></tr>
<tr class="separator:af522c79e55fdc7c9394573a456a3fcb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d374f3885ca14bd4f71198f9278543c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#a5d374f3885ca14bd4f71198f9278543c">rg_get_velocity_callback</a> (robot_game::rg_get_vel_srv::Request &amp;initpos, robot_game::rg_get_vel_srv::Response &amp;vel)</td></tr>
<tr class="memdesc:a5d374f3885ca14bd4f71198f9278543c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service - generate a twist command.  <a href="rg__services_8cpp.html#a5d374f3885ca14bd4f71198f9278543c">More...</a><br /></td></tr>
<tr class="separator:a5d374f3885ca14bd4f71198f9278543c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rg__services_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="memdesc:a3c04138a5bfe5d72780bb7e82a18e627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ask for services, topics, and initialise the node.  <a href="rg__services_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">More...</a><br /></td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A collection of services for the controller. </p>
<dl class="section author"><dt>Author</dt><dd>Francesco Ganci (S4143910) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2021-06-25</dd></dl>
<p>This file contains the three services the controller needs in order to work: <br  />
 </p><ul>
<li>
<b>get target</b> randomly generate a new target  </li>
<li>
<b>check target</b> check if the target is reached or not  </li>
<li>
<b>get velocity</b> generate the gelocity for approaching the goal  </li>
</ul>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2021 </dd></dl>

<p class="definition">Definition in file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a97d832ae23af4f215e801e37e4f94254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d832ae23af4f215e801e37e4f94254">&#9670;&nbsp;</a></span>K</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define K&#160;&#160;&#160;(1.f)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>the speed at which the robot reaches its position. </p>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00038">38</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
<a id="a30c17564229ec2e37dfea9c6c9ad643e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c17564229ec2e37dfea9c6c9ad643e">&#9670;&nbsp;</a></span>TOLERANCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOLERANCE&#160;&#160;&#160;0.1f</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>minimum distance from the target for considering it reached </p>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00035">35</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a42b25b029f07f4ead5317195078f5408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42b25b029f07f4ead5317195078f5408">&#9670;&nbsp;</a></span>compute_eucledian_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double compute_eucledian_distance </td>
          <td>(</td>
          <td class="paramtype">geometry_msgs::Point&#160;</td>
          <td class="paramname"><em>P1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">geometry_msgs::Point&#160;</td>
          <td class="paramname"><em>P2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Eucledian distance between two points. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">P1</td><td>the start point of the vector </td></tr>
    <tr><td class="paramname">P2</td><td>the final point of the vector </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double the eucledian distance of (P2-P1) </dd></dl>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00051">51</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
<a id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ask for services, topics, and initialise the node. </p>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00159">159</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
<a id="a8023ea9325c50029e9715fa369bece9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8023ea9325c50029e9715fa369bece9d">&#9670;&nbsp;</a></span>rand_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double rand_range </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate a random value within a given range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">min</td><td>the minimum number (included) </td></tr>
    <tr><td class="paramname">max</td><td>the maximum number (include) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a random number in [min, max] </dd></dl>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00064">64</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
<a id="af6a791475f0097a0dde6719b16a0f8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6a791475f0097a0dde6719b16a0f8a0">&#9670;&nbsp;</a></span>rg_check_target_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rg_check_target_callback </td>
          <td>(</td>
          <td class="paramtype">robot_game::rg_check_srv::Request &amp;&#160;</td>
          <td class="paramname"><em>initpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">robot_game::rg_check_srv::Response &amp;&#160;</td>
          <td class="paramname"><em>r</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Service - check target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initpos</td><td>X and Xt </td></tr>
    <tr><td class="paramname">r</td><td>is the target reached? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the lenght of (X - Xt) is less than the TOLERANCE </dd>
<dd>
false if the distance is greater than the TOLERANCE</dd></dl>
<p>The function simply takes the distance between actual position and target, and compares this with the TOLERACE. If the distance is less than the TOLERANCE, the target is considered to be reached. </p>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00088">88</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
<a id="af522c79e55fdc7c9394573a456a3fcb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af522c79e55fdc7c9394573a456a3fcb1">&#9670;&nbsp;</a></span>rg_get_target_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rg_get_target_callback </td>
          <td>(</td>
          <td class="paramtype">robot_game::rg_get_target_srv::Request &amp;&#160;</td>
          <td class="paramname"><em>limits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">robot_game::rg_get_target_srv::Response &amp;&#160;</td>
          <td class="paramname"><em>target</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Service - get a new random target. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">limits</td><td>bounds within to take the target </td></tr>
    <tr><td class="paramname">target</td><td>the respose of the server, the target </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00104">104</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
<a id="a5d374f3885ca14bd4f71198f9278543c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d374f3885ca14bd4f71198f9278543c">&#9670;&nbsp;</a></span>rg_get_velocity_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rg_get_velocity_callback </td>
          <td>(</td>
          <td class="paramtype">robot_game::rg_get_vel_srv::Request &amp;&#160;</td>
          <td class="paramname"><em>initpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">robot_game::rg_get_vel_srv::Response &amp;&#160;</td>
          <td class="paramname"><em>vel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Service - generate a twist command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initpos</td><td>X and Xt </td></tr>
    <tr><td class="paramname">vel</td><td>the return of the server, the Twist </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="rg__services_8cpp_source.html#l00131">131</a> of file <a class="el" href="rg__services_8cpp_source.html">rg_services.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="rg__services_8cpp.html">rg_services.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
